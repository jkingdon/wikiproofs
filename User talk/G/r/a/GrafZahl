== sessions ==

Is there something wrong with the way session data is being stored?  If I log in, I'm just logged in for one page view, and clicking anything returns me to not logged in. It seems to work for wikipedia, so I don't think it is a setting with cookies in my browser. Kingdon. [[Special:Contributions/97.73.64.167|97.73.64.167]] 01:38, 29 August 2010 (UTC)

:Hmm, WFM. I haven't changed anything regarding the Wiki configuration. Except for the recent OOM problem and reboot, nothing out of the ordinary happened. I see nothing in the server logs, too. Have you changed the cookie settings of your browser recently? Like accidentally clicking "disable cookies from this domain" or something? I have four cookies: <code>wikidbToken</code>, <code>wikidbUserID</code>, <code>wikidbUserName</code>, and <code>wikidb_session</code>. Maybe checking "keep me logged in" on the login page helps? I've enabled MediaWiki's debug mode for now. If this problem persists, we may find something in the debug log.--[[User:GrafZahl|GrafZahl]] 09:03, 29 August 2010 (UTC)

::Does it matter that every request comes in from a different IP address? If so, it is (presumably) peculiar to the internet connection that I'm on for the next few days, which would explain why it just started happening. If this is the deal, seems worth trying to cater to people on such connections, even if in my own case it is only temporary. [[Special:Contributions/97.73.64.174|97.73.64.174]] 12:05, 29 August 2010 (UTC)

:::I don't think it should. After all, the cookies should be in your browser and should be sent on every request regardless of your IP. But then, maybe there is some security mechanism in PHP to guard against session hijacking. Anyway, I've disabled MediaWiki's cookie check. That won't help you, though, if your cookies are really, truly lost. I also don't know what Wikipedia does different from Wikiproofs that could prevent your cookies from working here, while they work there. Any ideas on how to change the MediaWiki configuration to keep session loss from happening to you without jeopardising user security are appreciated.--[[User:GrafZahl|GrafZahl]] 15:20, 29 August 2010 (UTC)

::::I'd only expect the IP address to matter if something were explicitly checking for it. I didn't see any settings at [http://php.net/manual/en/ref.session.php#ini.session.save-path] or [http://www.mediawiki.org/wiki/Manual:Configuration_settings] to do that, so maybe the changing IP address is unrelated. I did verify via [http://ngrep.sourceforge.net/ ngrep] that my browser is sending cookies (wikidbUserID, wikidbUserName, wikidbToken, and wikidb_session), so it seems to have something to do with whether the server is accepting them and finding a session with them. As for [http://www.mediawiki.org/wiki/Manual:$wgDisableCookieCheck $wgDisableCookieCheck], I can't really tell what that one does from the manual. I did have another idea: perhaps there is some kind of firewall (either at my host's house, or his ISP) which sometimes strips cookies (or something like that)? There would have to be something about it which is specific to wikiproofs rather than the other sites I've tried (linkedin, meetup, at least), so I'm not sure how likely that is. I think I'm out of obvious ideas, so I think I'm at the point of "see if it goes away when I'm on a different internet connection". [[Special:Contributions/97.73.64.171|97.73.64.171]] 19:08, 29 August 2010 (UTC)

:::::Tunneling the connection through an SSH connection to an ISP account of mine does solve the problem.  So I guess it is some kind of firewall/proxy/etc (?). Anyway, thanks for your help and I guess we can consider this resolved. [[User:Kingdon|Kingdon]] 20:42, 29 August 2010 (UTC)