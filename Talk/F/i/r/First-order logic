I'm not convinced you need [http://us.metamath.org/mpegif/df-sb.html df-sb]. My own development is to define [http://us.metamath.org/mpegif/df-sbc.html df-sbc] instead. Metamath does this through class abstraction, but I think the following definition is just as good, and more general:

<pre>
stmt (df-subst () ()
  (<-> ([/] A x ph) (E. z (/\ (= z A) (E. x (/\ (= x z) ph))))))
</pre>

It's based on [http://us.metamath.org/mpegif/sbc5.html sbc5] but has extra magic to isolate the variable substituted so it doesn't need to be disjoint from the substitution. Anyway, just my 2Â¢. [[User:Raph|Raph]] 05:30, 28 February 2010 (UTC)

:I feel pretty over my head on such matters.  Not only is it unfamiliar to me, but it seems like there isn't a standard way to do things (well, except for the syntactic definitions of free variable and proper substitution and so on, which aren't available in that form in JHilbert/metamath/ghilbert).  If you have some time to work on this and prove whatever theorems you think we'll want, I'd be very happy to let you pick whichever definition of subst you like. I would like to keep first-order logic separate from set theory if we can (which metamath, to some extent, does not), but it sounds like you have in mind doing that. [[User:Kingdon|Kingdon]] 13:58, 28 February 2010 (UTC)